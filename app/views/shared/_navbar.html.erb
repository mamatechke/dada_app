<header class="bg-dada-background dark:bg-dada-darkBg border-b shadow-lg sticky top-0 z-50">
  <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 flex h-16 items-center justify-between">
    <!-- Logo -->
    <%= link_to root_path, class: "flex items-center gap-2" do %>
      <%= image_tag "logo.png", alt: "Dada Logo", class: "h-12 w-auto rounded-lg" %>
    <% end %>

    <!-- Desktop nav links -->
    <nav class="hidden md:flex items-center space-x-6 text-sm font-medium">
      <%= link_to "Circles", web_circles_path, class: "text-dada-text dark:text-white hover:text-dada-primary transition" %>
      <%= link_to "Resources", web_contents_path, class: "text-dada-text dark:text-white hover:text-dada-primary transition" %>
    </nav>

    <!-- Right side controls -->
    <div class="flex items-center space-x-4">
      <!-- Theme toggle -->
      <!-- âœ… Light/Dark Toggle Button with Icons -->
      <button id="theme-toggle"
              aria-label="Toggle Dark Mode"
              onclick="document.documentElement.classList.toggle('dark')"
              class="bg-dada-primary text-white p-2 sm:p-2.5 rounded hover:bg-dada-accent transition text-sm flex items-center justify-center">

        <!-- ðŸŒž Light Icon -->
        <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden dark:inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 3v1m0 16v1m8.66-11.66l-.707.707M4.05 19.95l-.707.707M21 12h-1M4 12H3m16.66 8.66l-.707-.707M4.05 4.05l-.707-.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>

        <!-- ðŸŒ™ Dark Icon -->
        <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z" />
        </svg>

      </button>

      <!-- Avatar or Login -->
      <div class="hidden md:block">
        <% if user_signed_in? %>
          <%= link_to web_profile_path, class: "flex items-center justify-center w-10 h-10 rounded-full border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 hover:ring-2 hover:ring-dada-primary transition" do %>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none"
                 viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                 class="w-6 h-6 text-dada-text dark:text-white">
              <path stroke-linecap="round" stroke-linejoin="round"
                    d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.5 20.25a8.25 8.25 0 1115 0" />
            </svg>
          <% end %>
        <% else %>
          <%= link_to new_user_session_path, class: "text-sm font-medium text-dada-text dark:text-white hover:text-dada-primary transition" do %>
            Log In
          <% end %>
        <% end %>
      </div>

      <!-- Mobile menu toggle button -->
      <div class="md:hidden">
        <input type="checkbox" id="mobile-menu-toggle" class="peer absolute opacity-0 w-0 h-0" />
        <label for="mobile-menu-toggle" class="cursor-pointer p-2 rounded text-dada-text dark:text-white hover:text-dada-primary">
          <span class="sr-only">Toggle main menu</span>
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </label>
      </div>
    </div>
  </div>

  <!-- Mobile nav panel -->
  <nav class="peer-checked:block hidden md:hidden bg-white dark:bg-dada-darkBg border-t border-gray-200 dark:border-zinc-700">
    <ul class="px-4 py-4 space-y-2 text-base font-medium">
      <li><%= link_to "Circles", web_circles_path, class: "block py-2 text-dada-text dark:text-white hover:text-dada-primary" %></li>
      <li><%= link_to "Resources", web_contents_path, class: "block py-2 text-dada-text dark:text-white hover:text-dada-primary" %></li>
      <li><%= link_to "Dada", web_chatbot_path, class: "block py-2 text-dada-text dark:text-white hover:text-dada-primary" %></li>
      <% if user_signed_in? %>
        <li><%= link_to "Sign Out", destroy_user_session_path, method: :delete, class: "block py-2 text-red-600 dark:text-red-400 hover:underline" %></li>
      <% else %>
        <li><%= link_to "Log In", new_user_session_path, class: "block py-2 text-dada-text dark:text-white hover:text-dada-primary" %></li>
      <% end %>
    </ul>
  </nav>
</header>
